{
  "name": "Search Products",
  "description": "Advanced search endpoint with multiple complex conditions",
  "method": "GET",
  "endpoint": "/products/search",
  "responses": [
    {
      "condition": "query.minPrice && query.maxPrice && Parse(query.minPrice) > Parse(query.maxPrice)",
      "statusCode": 400,
      "headers": {
        "Content-Type": "application/json"
      },
      "responseTemplate": {
        "error": "InvalidPriceRange",
        "message": "Minimum price cannot be greater than maximum price."
      }
    },
    {
      "condition": "query.category && (ToLower(query.category) == \"electronics\" || ToLower(query.category) == \"computers\")",
      "statusCode": 200,
      "headers": {
        "Content-Type": "application/json"
      },
      "responseTemplate": [
        {
          "id": "{{$random:int:1000:1999}}",
          "name": "Laptop Pro",
          "category": "Electronics",
          "price": 1299.99,
          "inStock": true
        },
        {
          "id": "{{$random:int:2000:2999}}",
          "name": "Smartphone X",
          "category": "Electronics",
          "price": 899.99,
          "inStock": true
        },
        {
          "id": "{{$random:int:3000:3999}}",
          "name": "Tablet Mini",
          "category": "Electronics",
          "price": 499.99,
          "inStock": false
        }
      ]
    },
    {
      "condition": "query.category && query.category.ToLower() == \"books\"",
      "statusCode": 200,
      "headers": {
        "Content-Type": "application/json"
      },
      "responseTemplate": [
        {
          "id": "{{$random:int:4000:4999}}",
          "name": "Programming Guide",
          "category": "Books",
          "price": 49.99,
          "inStock": true
        },
        {
          "id": "{{$random:int:5000:5999}}",
          "name": "Science Fiction Anthology",
          "category": "Books",
          "price": 29.99,
          "inStock": true
        }
      ]
    },
    {
      "condition": "query.inStock && query.inStock.ToLower() == \"true\"",
      "statusCode": 200,
      "headers": {
        "Content-Type": "application/json"
      },
      "responseTemplate": [
        {
          "id": "{{$random:int:1000:1999}}",
          "name": "Laptop Pro",
          "category": "Electronics",
          "price": 1299.99,
          "inStock": true
        },
        {
          "id": "{{$random:int:2000:2999}}",
          "name": "Smartphone X",
          "category": "Electronics",
          "price": 899.99,
          "inStock": true
        },
        {
          "id": "{{$random:int:4000:4999}}",
          "name": "Programming Guide",
          "category": "Books",
          "price": 49.99,
          "inStock": true
        }
      ]
    },
    {
      "condition": "query.maxPrice && int.Parse(query.maxPrice) < 100",
      "statusCode": 200,
      "headers": {
        "Content-Type": "application/json"
      },
      "responseTemplate": [
        {
          "id": "{{$random:int:4000:4999}}",
          "name": "Programming Guide",
          "category": "Books",
          "price": 49.99,
          "inStock": true
        },
        {
          "id": "{{$random:int:5000:5999}}",
          "name": "Science Fiction Anthology", 
          "category": "Books",
          "price": 29.99,
          "inStock": true
        }
      ]
    },
    {
      "condition": "headers.SortBy && headers.SortBy.ToLower() == \"price_asc\"",
      "statusCode": 200,
      "headers": {
        "Content-Type": "application/json"
      },
      "responseTemplate": [
        {
          "id": "{{$random:int:5000:5999}}",
          "name": "Science Fiction Anthology",
          "category": "Books",
          "price": 29.99,
          "inStock": true
        },
        {
          "id": "{{$random:int:4000:4999}}",
          "name": "Programming Guide",
          "category": "Books",
          "price": 49.99,
          "inStock": true
        },
        {
          "id": "{{$random:int:3000:3999}}",
          "name": "Tablet Mini",
          "category": "Electronics",
          "price": 499.99,
          "inStock": false
        },
        {
          "id": "{{$random:int:2000:2999}}",
          "name": "Smartphone X",
          "category": "Electronics",
          "price": 899.99,
          "inStock": true
        },
        {
          "id": "{{$random:int:1000:1999}}",
          "name": "Laptop Pro",
          "category": "Electronics",
          "price": 1299.99,
          "inStock": true
        }
      ]
    },
    {
      "condition": "default",
      "statusCode": 200,
      "headers": {
        "Content-Type": "application/json"
      },
      "responseTemplate": [
        {
          "id": "{{$random:int:1000:1999}}",
          "name": "Laptop Pro",
          "category": "Electronics",
          "price": 1299.99,
          "inStock": true
        },
        {
          "id": "{{$random:int:2000:2999}}",
          "name": "Smartphone X",
          "category": "Electronics",
          "price": 899.99,
          "inStock": true
        },
        {
          "id": "{{$random:int:3000:3999}}",
          "name": "Tablet Mini",
          "category": "Electronics",
          "price": 499.99,
          "inStock": false
        },
        {
          "id": "{{$random:int:4000:4999}}",
          "name": "Programming Guide",
          "category": "Books",
          "price": 49.99,
          "inStock": true
        },
        {
          "id": "{{$random:int:5000:5999}}",
          "name": "Science Fiction Anthology",
          "category": "Books",
          "price": 29.99,
          "inStock": true
        }
      ]
    }
  ]
}